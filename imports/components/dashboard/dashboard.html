<navig current-team="dashboard.team" menu-opened="menuOpened"></navig>

<div flex layout="column">
    <md-toolbar layout="row" class="md-toolbar-tools">
        <md-button ng-click="menuOpened = !menuOpened" class="md-icon-button"><i class="fa fa-2x fa-bars"
                                                                                 aria-hidden="true"></i>
        </md-button>
        <h1>Evénements à venir - {{dashboard.team.name}}</h1>
        <span flex></span>
        <md-button>
            <i class="fa fa-plus"></i>
            Créer un événement
        </md-button>
    </md-toolbar>

    <md-content flex layout="column" layout-padding md-scroll-y>

        <md-list>
            <md-list-item ng-repeat="event in dashboard.team.Events">
                <div flex class="md-list-item-text">
                    <h3>{{event.date | date }} - {{event.type}}</h3>
                    <h4>{{event.location}}</h4>
                    <div ng-switch="event.type" ng-show="detail">
                        <div ng-switch-when="match">
                            <div class="match">{{dashboard.team._id}} / {{event.team_b}} - {{event.duration | date :
                                "hh:mm"}}
                            </div>
                            <p>{{dashboard.team._id}}</p>
                            <md-list>
                                <md-list-item ng-repeat="player in dashboard.team.Players">
                                    <md-button ng-click="dashboard.showPlayerDetail($event, player._id)">
                                        <i class="fa fa-2x fa-search-plus"></i>
                                    </md-button>
                                    <div flex class="md-list-item-text">
                                        <player-row player="player"></player-row>
                                    </div>
                                    <player-view player="player"></player-view>
                                    <md-divider ng-if="!$last"></md-divider>
                                </md-list-item>
                            </md-list>

                            <div class="table playersTable">
                                <p>{{event.team_b}}</p>
                                <p ng-repeat="player in event.PlayersTeamB">
                                    <player-row player="player">
                                        <button ng-click="" type="button" class="btn btn-default btn-xs"
                                                aria-label="Left Align" data-toggle="modal"
                                                data-target="#{{player._id}}-Pop">
                                            <span class="fa fa-search-plus" aria-hidden="true"></span>
                                        </button>
                                    </player-row>
                                    <player-view player="player"></player-view>
                                </p>

                            </div>

                        </div>
                        <div ng-switch-when="training">

                        </div>
                    </div>
                </div>
                <md-button class="md-secondary" ng-click="detail = !detail">
                    <i class="fa fa-3x" ng-class="{'fa-angle-down':!detail, 'fa-angle-up':detail}"></i>
                </md-button>
                <md-divider ng-if="!$last"></md-divider>
            </md-list-item>
        </md-list>
    </md-content>
</div>